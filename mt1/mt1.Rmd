---
title: "Midterm 1, STATS 531/631 W26	"
author: "In class on 2/16"
output:
  pdf_document:
    latex_engine: xelatex
  toc: no
header-includes:
   - \usepackage{ifthen}
csl: ecology.csl
---


```{r preliminaries,echo=FALSE,cache=FALSE}
ALL <- TRUE
#SOL <- TRUE
SOL <- FALSE
QLABELS <- TRUE
EXAM <- FALSE
#EXAM <- TRUE
if(EXAM){
  ALL <- FALSE
  SOL <- FALSE
  QLABELS <- FALSE
}

# install necessary packages
packages <- c("png","tidyverse","tseries","rmarkdown")
installed_packages <- installed.packages()[,1]
options(repos=structure(c(CRAN="https://repo.miserver.it.umich.edu/cran/")))
install_if_not_installed <- function(pkg) {
  if (!pkg%in%installed_packages) install.packages(pkg,dependencies = TRUE, quiet=TRUE)
}
invisible(sapply(packages, install_if_not_installed))

```

\newcommand\exam[1]{#1}
<!-- \renewcommand\exam[1]{} to remove exam formatting -->
\renewcommand\exam[1]{}
 
```{r setup,echo=FALSE,cache=FALSE}
# library(mat2tex)
library(png)
set.seed(48)
knitr::opts_chunk$set(cache = FALSE)

q_setup <- function(n){
  q_dirs <- list.files(pattern=paste0("^Q",n,"-"))
  cat_file <- paste0("tmp",n,".Rmd")
  #
  # first add lines so each question knows its directory
  #
  for(q_dir in q_dirs){
    q_file <- paste(q_dir,"/q.Rmd",sep="") 
    q_tmp <- paste(q_dir,"/tmp.Rmd",sep="") 
    file.create(q_tmp)  
    write(c(
      "```{r,echo=F,results=ifelse(QLABELS,'asis','hide')}",
      paste("my_dir <- '",q_dir,"'",sep=""),
      "cat('**',my_dir,'.**',sep='')",
      "```"),
      file=q_tmp,append=TRUE
    )
    file.append(q_tmp,q_file)
    write(c(
      "```{r,child=paste(my_dir,'/sol.Rmd',sep=''),eval=SOL}",
      "``` \n"
    ),file=q_tmp,append=TRUE)
  }
  # 
  # Then concatenate these enhanced question files
  #
  q_files <- paste(q_dirs,"/tmp.Rmd",sep="") 
  if(!ALL) q_files <- sample(q_files,size=1)
  file.create(cat_file)
  file.append(cat_file,q_files)
  cat_file
}

```



\newcommand\var{\mathrm{Var}}
\newcommand\varSample{\mathrm{var}}
\newcommand\cov{\mathrm{Cov}}
\newcommand\covSample{\mathrm{cov}}
\newcommand\cor{\mathrm{Cor}}
\newcommand\corSample{\mathrm{cor}}

\exam{\vspace{1.5cm}

{\bf Name: \hspace{6cm} UMID: }

\vspace{1.5cm}

}

```{r,results="asis",echo=F,purl=F,eval=ALL}
cat("**This document produces different random tests each time the source code generating it is run. The actual midterm will be a realization generated by this random process, or something similar.**")
```

```{r,results="asis",echo=F,purl=F,eval=ALL}
cat("**This version lists all the questions currently in the test generator. The actual test will have one question sampled from each of the 7 question categories.**")
```

**Instructions. The test is closed book, and you are not allowed access to any notes. Any electronic devices in your possession must be turned off and remain in a bag on the floor.**

**For each question, circle one letter answer and provide some supporting reasoning.**


\exam{\newpage}

### Q1. Stationarity and unit roots.

```{r q1-setup,include=F}
cat_file1 <- q_setup(1)
```

```{r q1, child = cat_file1}
```

\exam{\newpage}

### Q2. Calculations for ARMA models

```{r q2-setup,include=F}
cat_file2 <- q_setup(2)
```

```{r q2, child = cat_file2}
```

\exam{\newpage}


### Q3. Likelihood-based inference for ARMA models 

```{r q3-setup,include=F}
cat_file3 <- q_setup(3)
```

```{r q3, child = cat_file3}
```

\exam{\newpage}

### Q4. Interpreting diagnostics

```{r q4-setup,include=F}
cat_file4 <- q_setup(4)
```

```{r q4, child = cat_file4}
```

\exam{\newpage}

### Q5. The frequency domain

```{r q5-setup,include=F}
cat_file5 <- q_setup(5)
```

```{r q5, child = cat_file5}
```

\exam{\newpage}

### Q6. Scholarship for time series projects

```{r q6-setup,include=F}
cat_file6 <- q_setup(6)
```

```{r q6, child = cat_file6}
```

### Q7. Data analysis

```{r q7-setup,include=F}
cat_file7 <- q_setup(7)
```

```{r q7, child = cat_file7}
```



\exam{\vfill}

------



License: This material is provided under a [Creative Commons license](https://ionides.github.io/531w26/LICENSE)<br>




------
